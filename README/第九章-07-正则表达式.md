# 正则表达式

## 什么是正则表达式

- 正则表达式(Regular Expression)是一种文本模式，包括普通字符（例如，a 到 z 之间的字母）和特殊字符（称为"元字符"）。
- 正则表达式用来描述、匹配、替换某个规则的文本一系列匹配某个句法规则的字符串。

```te
正则是一个语言规则，用来检测、替换、匹配字符串中符合正则规则的字符。
```

## js中使用正则

- 根据需要设计一个正则表达式，用来对字符串进行检测、替换。

### 创建正则对象

方式1：对象方式创建

```javascript
var reg = new Regex('a');
var reg = new Regex('a', 'i');
var reg = new Regex('a', 'gi');
```

方式2：字面量

```javascript
var reg = /a/
var reg = /a/i;
var reg = /a/gi;
```

#### 参数

| 标志 | 说明                |
| ---- | ------------------- |
| i    | 忽略大小写          |
| g    | 全局匹配            |
| gi   | 全局匹配+忽略大小写 |

### 字符串方法

| 字符串方法                    | 作用                                                         |
| ----------------------------- | ------------------------------------------------------------ |
| **str.search(/a/)**           | 检测指定的字符串或正则匹配的字符串第一此出现的位置，如不存在则返回 -1 |
| **str.replace(/a/,"b") 方法** | 将指字符串或正则匹配的字符串替换为其他字符串                 |
| **str.match(/a/)**            | 返回第一个匹配正则的字符串；全局匹配时返回所有匹配正则的字符串组成的数组。 |

### 正则方法

| 正则方法             | 作用                                                         |
| -------------------- | ------------------------------------------------------------ |
| reg.test("hahaahha") | 用来查看正则表达式与指定的字符串是否匹配。返回 `true` 或 `false`。 |

## 正则高级使用

- 上边案例中使用的正则与使用字符串没什么差别，只能代表确定的某个值。接下来我们要让正则真正看起来是一种规则而不是确定的某个值。

- 这里按照自己的理解简单解释正则的语法构成，详细语法请参考<a href="https://www.runoob.com/regexp/regexp-tutorial.html">菜鸟教程-正则表达式</a>

### 元字符

- 用来代表一个字符

| 元字符      | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| \d          | 匹配数字                                                     |
| \D          | 匹配任意非数字的字符                                         |
| \w          | 匹配字母或数字或下划线                                       |
| \W          | 匹配任意不是字母，数字，下划线                               |
| \s          | 匹配任意的空白符                                             |
| \S          | 匹配任意不是空白符的字符                                     |
| .           | 匹配除换行符以外的任意单个字符                               |
| []          | 字符串用中括号括起来，表示匹配其中的任一字符，相当于或 \| 的意思 |
| [0-9a-zA-Z] | 匹配指定范围内的某一个字符 等价于 \w                         |
| [0-9]       | 匹配任意一个数字 等价于 \d                                   |

### 限定符

- 用来指定元字符可出现的次数

| 字符  | 说明                                                         |
| ----- | ------------------------------------------------------------ |
| *     | 匹配前面的子表达式零次或多次。例如，zo* 能匹配 "z" 以及 "zoo"。* 等价于{0,}。 |
| +     | 匹配前面的子表达式一次或多次。例如，'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。+ 等价于 {1,}。 |
| ?     | 匹配前面的子表达式零次或一次。例如，"do(es)?" 可以匹配 "do" 、 "does" 中的 "does" 、 "doxy" 中的 "do" 。? 等价于 {0,1}。 |
| {n}   | n 是一个非负整数。匹配确定的 n 次。例如，'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o。 |
| {n,}  | n 是一个非负整数。至少匹配n 次。例如，'o{2,}' 不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。'o{1,}' 等价于 'o+'。'o{0,}' 则等价于 'o*'。 |
| {n,m} | m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次。例如，"o{1,3}" 将匹配 "fooooood" 中的前三个 o。'o{0,1}' 等价于 'o?'。请注意在逗号和两个数之间不能有空格。 |

### 其他符号

| 字符 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| ^    | 表示匹配行首的文本(以谁开始)                                 |
| $    | 表示匹配行尾的文本(以谁结束)                                 |
| \    | 在正则表达式中每个符号都有特定的作用，如果就想表示这个符号本身需要 \。例如 . 代表匹配除换行符以外的任意单个字符，\\. 就只代表 . |
| ()   | 用来选中范围                                                 |
| \|   | 或;  (1\|2)  等价于 [12]                                     |

## 正则案例

1. 手机号

```javascript
/^1\d{10}$/
```



1. 6~16位用户名，只能包含数字、字母、下划线，不能以数字开头。

```javascript
/^[a-zA-Z_]\w{5,15}$/
```

1. 邮箱正则？？？？？？

```javascript

```

## <a href="http://c.runoob.com/front-end/854">常用正则表达式查询</a>

## 实战演练

- 在登录注册过程中，使用正则验证用户输入的数据是否合法。
- 用户名正则：6~16位 、只能包含中文字符
- 密码正则：6~16位、只能包含数字、字母、_
- 手机号正则： 查询常用格式
- 身份证号正则：查询常用格式